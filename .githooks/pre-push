#!/bin/sh
# Pre-push hook that runs all CI checks locally
# This prevents pushing code that will fail CI

echo "üîç Running pre-push checks..."
echo ""

# Store the current branch
CURRENT_BRANCH=$(git branch --show-current)
echo "üìå Branch: $CURRENT_BRANCH"
echo ""

# Run all CI checks
set -e  # Exit on first failure

echo "1Ô∏è‚É£  Formatting check..."
npm run format:check
echo "‚úÖ Formatting passed"
echo ""

echo "2Ô∏è‚É£  Spell check..."
npm run spellcheck
echo "‚úÖ Spell check passed"
echo ""

echo "3Ô∏è‚É£  Markdown lint..."
npm run lint:markdown
echo "‚úÖ Markdown lint passed"
echo ""

echo "4Ô∏è‚É£  Validate skills..."
npm run validate:skills
echo "‚úÖ Skills validation passed"
echo ""

echo "‚ú® All pre-push checks passed! Pushing..."
echo ""
